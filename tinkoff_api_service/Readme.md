# Tinkoff API Service

## Основные задачи

- Получение данных об инструментах (акции, облигации, фонды и т.д.).
- Подписка на потоковые котировки для реального времени.
- Получение исторических данных по заданным параметрам.
- Обработка ошибок и автоматическое переподключение к API.

## Технологический стек

Язык: Go.

1. Протокол: gRPC (для взаимодействия с другими микросервисами).
2. Тестирование: gRPC Mock, интеграционные тесты.
3. Библиотеки:
    - Tinkoff Invest API Go SDK для работы с API.
    - grpc-go для реализации API.

## Функциональные модули

1.Data Fetcher
Модуль для взаимодействия с Tinkoff API:

- Подключение к API через токен.
- Вызов методов: получение инструментов, поток котировок, исторические данные.
- Обработка ответов и ошибок.

2.GRPC Server
Реализация публичного API для других микросервисов.
Методы:

- GetInstruments — получить список инструментов.
- StreamQuotes — потоковые котировки.
- GetHistoricalData — исторические данные.

3.Обработка ошибок

- Переподключение при потере соединения.
- Лимитирование запросов (если API ограничивает частоту).

4.Логирование и мониторинг

- События подключения, ошибки и важные действия логируются.
- Мониторинг через Prometheus (запросы, успешные/неуспешные вызовы).
